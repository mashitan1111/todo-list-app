# GitHub 推送失败解决方案

## 问题诊断

推送失败通常由以下原因导致：

### 1. GitHub Token 未设置

**检查方法：**
在命令提示符（CMD）中运行：
```cmd
echo %GITHUB_TOKEN%
```

如果显示 `%GITHUB_TOKEN%`（而不是实际的 token），说明未设置。

**解决方法：**
```cmd
setx GITHUB_TOKEN "YOUR_TOKEN_HERE"
```
**重要：** 运行后必须**关闭并重新打开**命令提示符窗口，环境变量才会生效。

### 2. 远程仓库不存在

**检查方法：**
访问：https://github.com/mashitan1111/todo-list-app

如果显示 404 错误，说明仓库不存在。

**解决方法：**
1. 访问：https://github.com/new
2. 仓库名称填写：`todo-list-app`
3. 选择 Public 或 Private
4. **不要**勾选 "Add a README file"
5. 点击 "Create repository"

### 3. Git 用户信息未配置

**解决方法：**
在项目目录中运行：
```cmd
git config user.name "mashitan1111"
git config user.email "994404569@qq.com"
```

## 完整解决步骤

### 步骤 1：设置环境变量
```cmd
setx GITHUB_TOKEN "YOUR_TOKEN_HERE"
```

### 步骤 2：关闭并重新打开命令提示符

### 步骤 3：验证 Token 已设置
```cmd
echo %GITHUB_TOKEN%
```
应该显示你的 token（而不是 `%GITHUB_TOKEN%`）

### 步骤 4：检查仓库是否存在
访问：https://github.com/mashitan1111/todo-list-app

如果不存在，按照上面的方法创建。

### 步骤 5：配置 Git 用户信息
```cmd
cd /d "C:\Users\温柔的男子啊\Desktop\crusor\圆心工作\工具和脚本\工具脚本"
git config user.name "mashitan1111"
git config user.email "994404569@qq.com"
```

### 步骤 6：重新运行部署脚本
双击运行 `重新部署到GitHub.bat`

## 手动推送方法（如果脚本仍然失败）

如果脚本仍然失败，可以手动执行以下命令：

```cmd
cd /d "C:\Users\温柔的男子啊\Desktop\crusor\圆心工作\工具和脚本\工具脚本"

REM 删除旧的 Git 历史
if exist .git rmdir /s /q .git

REM 初始化新仓库
git init
git branch -M main

REM 配置用户信息
git config user.name "mashitan1111"
git config user.email "994404569@qq.com"

REM 添加文件
git add .

REM 提交
git commit -m "Initial commit: Todo List App for Vercel"

REM 添加远程仓库（使用 Token）
git remote add origin https://%GITHUB_TOKEN%@github.com/mashitan1111/todo-list-app.git

REM 推送
git push -u origin main --force
```

**注意：** 上面的命令中直接包含了 token，这是为了快速测试。成功后，建议使用环境变量的方式。

## 常见错误

### 错误：`remote: Support for password authentication was removed`
**原因：** GitHub 不再支持密码认证，必须使用 Token。

**解决：** 确保使用 Token 而不是密码。

### 错误：`remote: Repository not found`
**原因：** 仓库不存在或 Token 没有权限访问该仓库。

**解决：** 
1. 检查仓库是否存在
2. 检查 Token 是否有 `repo` 权限

### 错误：`fatal: could not read Username`
**原因：** Git 需要认证信息。

**解决：** 使用包含 Token 的 URL：
```
https://YOUR_TOKEN@github.com/username/repo.git
```

